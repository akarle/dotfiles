#!/usr/bin/env bash
# .bashrc
# The way I like to roll in the shell

# If not running interactively, don't do anything
[[ $- != *i* ]] && return

# Disable XON/XOFF to allow forward search w CTRL-S
stty -ixon

# History Settings
shopt -s histappend    # append to the history file, don't overwrite it
HISTSIZE=10000         # Max lines in history (in memory)
HISTFILESIZE=200000    # Max size of the history file
HISTIGNORE=fg:pwd:ls   # Don't store common commands in history
HISTCONTROL=ignoreboth # Don't store (1) duplicate commands in history
                       #   AND don't store lines beginning with space
PROMPT_COMMAND="echo; history -a"

# Other Settings
shopt -s checkwinsize  # check win size after each cmd, update if needed

# Custom functions
function ff {
    find . -name "*$1*"
}

function aw {
    w3m "https://wiki.archlinux.org/index.php?search=$1"
}

function ddg {
    w3m "https://duckduckgo.com/lite?q=$1"
}

function source_if_exists {
    if [ -r "$1" ]; then
        source "$1"
    fi
}

source_if_exists "$HOME/.profile"                  # Common shell configuration
source_if_exists "$HOME/.bash/git-completion.bash" # Git Completion
source_if_exists "$HOME/.bash_aliases"             # Bash aliases (uses git completion!)
source_if_exists "$HOME/.console_theme"            # Virtual Console colors (if TERM == "linux")
source_if_exists "$HOME/.bash_prompt"              # Fancy tput-colored prompt!
source_if_exists "$HOME/.bashrc.local"             # System specific settings
